<!doctype html><html lang=ja><head><meta content=#454351 name=theme-color><meta content="width=device-width,initial-scale=0.1" name=viewport><link href=https://slnq.github.io/style.css rel=stylesheet><meta content=夏 name=description><link href=https://slnq.github.io/f.ico rel=icon><meta charset=utf-8><meta content=夏果 property=og:site_name><meta content=summary name=twitter:card><meta content=https://slnq.github.io/f.ico property=og:image><meta content=@natsuka_sili name=twitter:site><link href=https://slnq.github.io/atom.xml rel=alternate title=RSS type=application/rss+xml><title>夏果</title><body><header><div><span class=about id=hide>とは</span><a href=https://slnq.github.io id=title>夏果</a><a class=about href=https://slnq.github.io/about>とは</a></div><a class=tag href=https://slnq.github.io/tags/browser/><span class=emoji>🔖️</span>browser</a><a class=tag href=https://slnq.github.io/tags/design/><span class=emoji>🔖️</span>design</a><a class=tag href=https://slnq.github.io/tags/event/><span class=emoji>🔖️</span>event</a><a class=tag href=https://slnq.github.io/tags/film/><span class=emoji>🔖️</span>film</a><a class=tag href=https://slnq.github.io/tags/js/><span class=emoji>🔖️</span>JS</a><a class=tag href=https://slnq.github.io/tags/museum/><span class=emoji>🔖️</span>museum</a><a class=tag href=https://slnq.github.io/tags/rust/><span class=emoji>🔖️</span>Rust</a><a class=tag href=https://slnq.github.io/tags/stroll/><span class=emoji>🔖️</span>stroll</a><a class=tag href=https://slnq.github.io/tags/virtual/><span class=emoji>🔖️</span>virtual</a><a class=tag href=https://slnq.github.io/tags/wasm/><span class=emoji>🔖️</span>Wasm</a><a class=tag href=https://slnq.github.io/tags/wired/><span class=emoji>🔖️</span>Wired</a><a class=tag href=https://slnq.github.io/tags/zola/><span class=emoji>🔖️</span>Zola</a></header><meta content=article property=og:type><meta content=GitHubのContributionを模倣 property=og:title><meta content="モチベーションGitHubのContributionが埋まっている人はかっこいいが，コンスタントにプログラムを書くわけでも無いので真似もできない．代わりにツイートで実装すれば良いのではと思い作り始めた．GitHub Contributions Chartを参考にJavaScriptで実装し，あとはTwitterからツイートを取得するのみに迫った頃，Twitter APIの実質的な終了が言い渡され全てが泡沫の如く消えた．読書記録などにしようか，いや普通の読書記録アプリさえも続かないのに，などと2ヶ月程度考えた末に当ブログの更新記録にしてみるかと考え，Zolaでの実装を始めた．制作物JavaScriptでの実装Zolaでの実装ソースコードJavaScriptでのコードZolaでのコードJavaScriptの方についてはDOM操作に慣れている人はGitHub Contributions Chartをそのまま置き換えただけだとわかると思う．更新した瞬間にDOM操作が行われるため画面が乱れるという欠点がある．Zolaの方については関数としてmacroを使っているが，配列を出力出来ないため，カンマ区切りの文字列を介して返している．また，条件文に括弧を使えないため他の言語なら1つのif文で書けるものもTeraでは2重で書くしかない．以上を抑えておけばmacros.htmlを読んで理解できると思う．デザインについてはJavaScriptの方はGitHubのものをそのまま，Zolaの方は当ブログに合う感じにした．色の濃度が無いのは1日に1記事より多く更新するとは思えないため．処理行ヘッダーgetWeek()で月が何週間あるかを計算しcolspanで間隔を空ける．行get_date_on_weekday()で1年間の全てのn曜日を取得している．HTMLのtableが列で構成できたらもっと楽だったはずなのですが．閏年判定JavaScriptではDate()が便利で必要が無いが，Teraには無いので，last_day()で計算している．所感Teraを書くのが大変だった．とはいえ言語の目的に適していないことを行っているのだから当然ではある．せっかくブログ更新のContributionを作ったのだから定期的に記事を更新していきたいが，継続的な行動が苦手なので厳しいのではないかなと思っている．" name=description><div class=single><div><div class=headline>GitHubのContributionを模倣 <a rel="noopener noreferrer" class=link href=https://gist-4d0c6.web.app/like_contribution.html target=_blank>⧉</a> <a rel="noopener noreferrer" class=link href=../../about/#log target=_blank>⧉</a> </div><span class=page-date>2023.07.02</span><span class=page-tag> <a class=tag href=../../tags/js/><span class=emoji>🔖️</span>JS</a> <a class=tag href=../../tags/zola/><span class=emoji>🔖️</span>Zola</a> <a class=tag href=../../tags/design/><span class=emoji>🔖️</span>design</a> </span><div class=page-content><h1 id=motibesiyon>モチベーション</h1><p><a href=https://github.com/>GitHub</a>のContributionが埋まっている人はかっこいいが，コンスタントにプログラムを書くわけでも無いので真似もできない．代わりにツイートで実装すれば良いのではと思い作り始めた．<br \><a href=https://adrianroselli.com/2018/02/github-contributions-chart.html>GitHub Contributions Chart</a>を参考にJavaScriptで実装し，あとはTwitterからツイートを取得するのみに迫った頃，Twitter APIの実質的な終了が言い渡され全てが泡沫の如く消えた．<br>読書記録などにしようか，いや普通の読書記録アプリさえも続かないのに，などと2ヶ月程度考えた末に<a href=https://slnq.github.io>当ブログ</a>の更新記録にしてみるかと考え，<a href=https://www.getzola.org>Zola</a>での実装を始めた．<h1 id=zhi-zuo-wu>制作物</h1><ul><li><a href=https://gist-4d0c6.web.app/like_contribution.html>JavaScriptでの実装</a><li><a href=../../about/#log>Zolaでの実装</a></ul><h2 id=sosukodo>ソースコード</h2><ul><li><a href=https://gist.github.com/slnq/5c6407c9173c67b2222fa837cd9ce735>JavaScriptでのコード</a><li><a href=https://github.com/slnq/slnq.github.io/blob/main/templates/macros.html>Zolaでのコード</a></ul><p>JavaScriptの方についてはDOM操作に慣れている人は<a href=https://adrianroselli.com/2018/02/github-contributions-chart.html>GitHub Contributions Chart</a>をそのまま置き換えただけだとわかると思う．更新した瞬間にDOM操作が行われるため画面が乱れるという欠点がある．<br \><a href=https://www.getzola.org>Zola</a>の方については関数として<a href=https://tera.netlify.app/docs/#macros>macro</a>を使っているが，配列を出力出来ないため，カンマ区切りの文字列を介して返している．また，条件文に括弧を使えないため他の言語なら1つのif文で書けるものも<a href=https://tera.netlify.app/docs>Tera</a>では2重で書くしかない．以上を抑えておけば<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/macros.html>macros.html</a>を読んで理解できると思う．<br>デザインについてはJavaScriptの方は<a href=https://github.com/>GitHub</a>のものをそのまま，<a href=https://www.getzola.org>Zola</a>の方は<a href=https://slnq.github.io>当ブログ</a>に合う感じにした．色の濃度が無いのは1日に1記事より多く更新するとは思えないため．<h1 id=chu-li>処理</h1><h2 id=xing-hetuda>行ヘッダー</h2><p>getWeek()で月が何週間あるかを計算しcolspanで間隔を空ける．<h2 id=xing>行</h2><p>get_date_on_weekday()で1年間の全てのn曜日を取得している．<br>HTMLのtableが列で構成できたらもっと楽だったはずなのですが．<h2 id=run-nian-pan-ding>閏年判定</h2><p>JavaScriptではDate()が便利で必要が無いが，<a href=https://tera.netlify.app/docs>Tera</a>には無いので，last_day()で計算している．<h1 id=suo-gan>所感</h1><p><a href=https://tera.netlify.app/docs>Tera</a>を書くのが大変だった．とはいえ言語の目的に適していないことを行っているのだから当然ではある．<br>せっかくブログ更新のContributionを作ったのだから定期的に記事を更新していきたいが，継続的な行動が苦手なので厳しいのではないかなと思っている．</p><br></div></div></div><footer><a href=https://slnq.github.io>表紙</a><a href=https://slnq.github.io/about/>紹介</a><a href=https://slnq.github.io/atom.xml>購読</a><a href=https://slnq.github.io/search/>全文</a><a href=https://slnq.github.io/links/>関連</a><a href=https://slnq.github.io/photos/>写真</a><a href=https://slnq.github.io/photols/>風景</a><a href=https://slnq.github.io/animation/>映像</a><a href=https://slnq.github.io/page/>短文</a></footer>