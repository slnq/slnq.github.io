<!doctype html><html lang=ja><head><meta content=#454351 name=theme-color><meta content="width=device-width,initial-scale=0.1" name=viewport><link href=https://slnq.github.io/style.css rel=stylesheet><meta content=夏 name=description><link href=https://slnq.github.io/f.ico rel=icon><meta charset=utf-8><meta content=夏果 property=og:site_name><meta content=summary name=twitter:card><meta content=https://slnq.github.io/f.ico property=og:image><meta content=@natsuka_sili name=twitter:site><link href=https://slnq.github.io/atom.xml rel=alternate title=RSS type=application/rss+xml><title>夏果</title><body><header><div><span class=about id=hide>とは</span><a href=https://slnq.github.io id=title>夏果</a><a class=about href=https://slnq.github.io/about>とは</a></div><a class=tag href=https://slnq.github.io/tags/browser/><span class=emoji>🔖️</span>browser</a><a class=tag href=https://slnq.github.io/tags/design/><span class=emoji>🔖️</span>design</a><a class=tag href=https://slnq.github.io/tags/event/><span class=emoji>🔖️</span>event</a><a class=tag href=https://slnq.github.io/tags/film/><span class=emoji>🔖️</span>film</a><a class=tag href=https://slnq.github.io/tags/js/><span class=emoji>🔖️</span>JS</a><a class=tag href=https://slnq.github.io/tags/museum/><span class=emoji>🔖️</span>museum</a><a class=tag href=https://slnq.github.io/tags/rust/><span class=emoji>🔖️</span>Rust</a><a class=tag href=https://slnq.github.io/tags/stroll/><span class=emoji>🔖️</span>stroll</a><a class=tag href=https://slnq.github.io/tags/virtual/><span class=emoji>🔖️</span>virtual</a><a class=tag href=https://slnq.github.io/tags/wasm/><span class=emoji>🔖️</span>Wasm</a><a class=tag href=https://slnq.github.io/tags/wired/><span class=emoji>🔖️</span>Wired</a><a class=tag href=https://slnq.github.io/tags/zola/><span class=emoji>🔖️</span>Zola</a></header><meta content=article property=og:type><meta content=Vivaldiでアドレスの横にブクマ property=og:title><meta content="モチベーションFirefoxに慣れてしまってはアドレスバーの横にブックマークを並べられないブラウザを使うことができなくなってしまう．タブバーとツールバーで結構な高さを取るのにブックマークバーを表示しては目障りで仕方がない．しかし「NHKプラス」が「Firefox」のサポートを“完全”終了へ ～ 5月23日より視聴不可能にからもわかるように最近はFirefoxのサポートを終えているサイトも少なくない．私にとっての問題はnoteの記事作成画面においてmarkdown形式でペーストしてもFirefoxではnote形式に展開されないというものだった．FirefoxからChromiumブラウザへの乗り換えで散見されたVivaldiを選んでみたが，標準のカスタマイズ機能ではツールバーにブックマークを置けないようなのでカスタムcssファイルを作成した．制作物https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7vivaldi.cssがVivaldiで使っているUI用のCSSuserChrome.cssはFirefoxで使っているUI用のCSSuserContent.cssはFirefoxで使っている任意のサイト用のCSSvivaldi.cssVivaldiではアドレスバーなどが含まれるmainbar，bookmark-bar，サイトを表示するinnerがmainというflexコンテナに入っている．この辺のことはGuide: Customizing Vivaldi’s UI with CSS modsを参考にするとわかりよい．当初はmainbarとbookmark-barを2重のflexコンテナに入れることを考えたが，カスタムjsファイルを読み込む為のbrowser.htmlがアップデートの度に初期化されるらしくcssのみでの実装を考えた．結果としては以下のようになった(全文はvivaldi.cssに書いておく)．#main {  flex-direction: row-reverse;  flex-wrap: wrap;}.inner {  flex-basis: 100% !important;}このコードの中でもflex-directionやwrapはすぐに思いつくのだが，それだけではうまくいかず色々と試した末にflex-basis: 100% !important;が肝要であるとわかった．一応これでブックマークバーとツールバーを並べることには成功したが，Firefoxではツールバーにブックマークを展開していたわけで，見た目は一緒だが構造は違うよなと少しもどかしい．FirefoxuserChrome.cssでは右クリックしたときのメニューの要素を大量に隠しているのでわかりにくくなっているが，基本的にはタブバーを低くしたり，ページ内検索を上に移し背景を設定している．userContent.cssでは新規タブの背景画像を設定したり，TweetDeckの新しいバージョンへの以降を促すリンクを消したり，YouTubeのヘッダーを透過させたりしている．これもVivaldiで使いたいのだが拡張機能を使わないといけないようで二の足を踏んでいる．所感取り敢えずブラウザへ求める要素のうち最も大事なブックマークをアドレスバーの横への配置をChromiumベースのブラウザで実装できてよかった．610億円を払って「Firefox」を延命するGoogleのズル賢さからもわかるようにFirefoxが無くなることはないだろうが，今後も肩身は狭いだろう．Vivaldi以外の候補としてはSleipnirとFloorpがあったが日本発のものは情報が少ないことが往々にしてあるため避けがちである．取り敢えずPCのブラウザ環境には満足したので後はAppleによる携帯端末のWebKit強制の終了を待つのみ．" name=description><div class=single><div><div class=headline>Vivaldiでアドレスの横にブクマ <a rel="noopener noreferrer" class=link href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7 target=_blank>⧉</a></div><span class=page-date>2023.08.12</span><span class=page-tag> <a class=tag href=../../tags/browser/><span class=emoji>🔖️</span>browser</a> <a class=tag href=../../tags/design/><span class=emoji>🔖️</span>design</a> </span><div class=page-content><h1 id=motibesiyon>モチベーション</h1><p>Firefoxに慣れてしまってはアドレスバーの横にブックマークを並べられないブラウザを使うことができなくなってしまう．タブバーとツールバーで結構な高さを取るのにブックマークバーを表示しては目障りで仕方がない．<br>しかし<a href=https://forest.watch.impress.co.jp/docs/news/1408055.html>「NHKプラス」が「Firefox」のサポートを“完全”終了へ ～ 5月23日より視聴不可能に</a>からもわかるように最近はFirefoxのサポートを終えているサイトも少なくない．私にとっての問題は<a href=https://note.com/>note</a>の記事作成画面においてmarkdown形式でペーストしてもFirefoxではnote形式に展開されないというものだった．<br>FirefoxからChromiumブラウザへの乗り換えで散見されたVivaldiを選んでみたが，標準のカスタマイズ機能ではツールバーにブックマークを置けないようなのでカスタムcssファイルを作成した．<h1 id=zhi-zuo-wu>制作物</h1><p><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7>https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7</a><ul><li><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-vivaldi-css>vivaldi.css</a>がVivaldiで使っているUI用のCSS<li><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-userchrome-css>userChrome.css</a>はFirefoxで使っているUI用のCSS<li><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-usercontent-css>userContent.css</a>はFirefoxで使っている任意のサイト用のCSS</ul><h2 id=vivaldi-css><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-vivaldi-css>vivaldi.css</a></h2><p>Vivaldiではアドレスバーなどが含まれるmainbar，bookmark-bar，サイトを表示するinnerがmainというflexコンテナに入っている．この辺のことは<a href=https://gabevilela.vivaldi.net/2020/12/26/guide-customizing-vivaldis-ui-with-css-mods/>Guide: Customizing Vivaldi’s UI with CSS mods</a>を参考にするとわかりよい．<br>当初はmainbarとbookmark-barを2重のflexコンテナに入れることを考えたが，カスタムjsファイルを読み込む為のbrowser.htmlがアップデートの度に初期化されるらしくcssのみでの実装を考えた．結果としては以下のようになった(全文は<a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-vivaldi-css>vivaldi.css</a>に書いておく)．<pre><code>#main {<br>  flex-direction: row-reverse;<br>  flex-wrap: wrap;<br>}<br>.inner {<br>  flex-basis: 100% !important;<br>}</code></pre><p>このコードの中でもflex-directionやwrapはすぐに思いつくのだが，それだけではうまくいかず色々と試した末に<code>flex-basis: 100% !important;</code>が肝要であるとわかった．<br>一応これでブックマークバーとツールバーを並べることには成功したが，Firefoxではツールバーにブックマークを展開していたわけで，見た目は一緒だが構造は違うよなと少しもどかしい．<h2 id=firefox>Firefox</h2><p><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-userchrome-css>userChrome.css</a>では右クリックしたときのメニューの要素を大量に隠しているのでわかりにくくなっているが，基本的にはタブバーを低くしたり，ページ内検索を上に移し背景を設定している．<br \><a href=https://gist.github.com/slnq/5b77b333d26a07409104694c2b22fef7#file-usercontent-css>userContent.css</a>では新規タブの背景画像を設定したり，<a href=https://tweetdeck.twitter.com/>TweetDeck</a>の新しいバージョンへの以降を促すリンクを消したり，<a href=https://www.youtube.com/>YouTube</a>のヘッダーを透過させたりしている．これもVivaldiで使いたいのだが拡張機能を使わないといけないようで二の足を踏んでいる．<h1 id=suo-gan>所感</h1><p>取り敢えずブラウザへ求める要素のうち最も大事なブックマークをアドレスバーの横への配置をChromiumベースのブラウザで実装できてよかった．<a href="https://www.appbank.net/2022/12/18/technology/2348747.php?page=3">610億円を払って「Firefox」を延命するGoogleのズル賢さ</a>からもわかるようにFirefoxが無くなることはないだろうが，今後も肩身は狭いだろう．Vivaldi以外の候補としてはSleipnirとFloorpがあったが日本発のものは情報が少ないことが往々にしてあるため避けがちである．<br>取り敢えずPCのブラウザ環境には満足したので後はAppleによる携帯端末のWebKit強制の終了を待つのみ．</p><br></div></div></div><footer><a href=https://slnq.github.io>表紙</a><a href=https://slnq.github.io/about/>紹介</a><a href=https://slnq.github.io/atom.xml>購読</a><a href=https://slnq.github.io/search/>全文</a><a href=https://slnq.github.io/links/>関連</a><a href=https://slnq.github.io/photos/>写真</a><a href=https://slnq.github.io/photols/>風景</a><a href=https://slnq.github.io/animation/>映像</a><a href=https://slnq.github.io/page/>短文</a></footer>