<!doctype html><html lang=ja><head><meta content=#454351 name=theme-color><meta content="width=device-width,initial-scale=0.1" name=viewport><link href=https://slnq.github.io/style.css rel=stylesheet><meta content=夏 name=description><link href=https://slnq.github.io/f.ico rel=icon><meta charset=utf-8><meta content=夏果 property=og:site_name><meta content=summary name=twitter:card><meta content=https://slnq.github.io/f.ico property=og:image><meta content=@natsuka_sili name=twitter:site><link href=https://slnq.github.io/atom.xml rel=alternate title=RSS type=application/rss+xml><title>夏果</title><body><header><div><span class=about id=hide>とは</span><a href=https://slnq.github.io id=title>夏果</a><a class=about href=https://slnq.github.io/about>とは</a></div><a class=tag href=https://slnq.github.io/tags/browser/><span class=emoji>🔖️</span>browser</a><a class=tag href=https://slnq.github.io/tags/design/><span class=emoji>🔖️</span>design</a><a class=tag href=https://slnq.github.io/tags/event/><span class=emoji>🔖️</span>event</a><a class=tag href=https://slnq.github.io/tags/film/><span class=emoji>🔖️</span>film</a><a class=tag href=https://slnq.github.io/tags/js/><span class=emoji>🔖️</span>JS</a><a class=tag href=https://slnq.github.io/tags/museum/><span class=emoji>🔖️</span>museum</a><a class=tag href=https://slnq.github.io/tags/rust/><span class=emoji>🔖️</span>Rust</a><a class=tag href=https://slnq.github.io/tags/stroll/><span class=emoji>🔖️</span>stroll</a><a class=tag href=https://slnq.github.io/tags/virtual/><span class=emoji>🔖️</span>virtual</a><a class=tag href=https://slnq.github.io/tags/wasm/><span class=emoji>🔖️</span>Wasm</a><a class=tag href=https://slnq.github.io/tags/wired/><span class=emoji>🔖️</span>Wired</a><a class=tag href=https://slnq.github.io/tags/zola/><span class=emoji>🔖️</span>Zola</a></header><meta content=article property=og:type><meta content=Zolaでブログを作る property=og:title><meta content='ZolaHugoやGatsbyと同じく静的サイトジェネレーター(SSG)の一種．言語はRustで書かれているため，buildが早いという特徴がある．とはいえRustの知識は必要なくTeraについて知っていると少し書きやすい程度でブログを作る程度なら簡単に扱える．制作物https://slnq.github.ioソースコードhttps://github.com/slnq/slnq.github.ioドキュメントに仕様などが詳しく書かれているため，これを見ていけば最低限のブログは作れる．それでもわからない点は有志が作ったテーマのコードを見ることで大抵は解決する．デザイン軽量かつシンプルでありトップページから全てのページにアクセスできるように作った．特にページの要素を示すタグの一覧を見るために別のページにアクセスする労力を嫌い，タグの一覧をトップページに載せる仕様は絶対だった．また，技術的な内容と日記などの文章を主体とする記事の両方を書きたかったので2つのカテゴリに分けられるようにした．レイアウトについては日光室を参考にしている．タグに用いている記号については4KBのJavaScriptだけで動く可愛いアクションゲームを作ったのでソースと解説にて紹介されている手法を用いた．ディレクトリ構成templatesディレクトリにMarkdownからレンダリングされる元となるHTMLが配置されている．全てのページで使われているヘッダー部分はbase.html，トップページはindex.html，記事はblog-pages.htmlを使っている．また，sassにはスタイルシートが，contentには書いたMarkdownが配置されている．TaxonomiesTaxonomiesの実装に躓いたのでメモを残す．特に既存のテーマではタグやカテゴリの一覧を単独のページにしており，私の希望であったタグの一覧をトップページに載せるトップページで投稿を2つのカテゴリに分けるという仕様はコピー・アンド・ペーストでは実装できなかった．1つ目についてはtemplatesディレクトリ内にtagsを作成しTaxonomiesを実装しbase.htmlに{% set tags = get_taxonomy(kind=&amp;quot;tags&amp;quot;, lang=lang) %}{% for term in tags.items %}  {{ term.name }}{% endfor %}と記述することで実現できた．コードは簡単のためtagsに関係ない部分は省略している．get_taxonomyでtagsを取得しtags.itemsの全てを表示している．2つ目については1つ目と同様にcategoriesを作成しindex.htmlに{% set section = get_section(path=&amp;quot;post&amp;#x2F;_index.md&amp;quot;) %}{% if paginator %} {% set pages = paginator.pages %} {% else %} {% set pages = section.pages %} {% endif %}{% for page in pages %} {% if page.taxonomies.categories %} {% if &amp;quot;tech&amp;quot; in page.taxonomies.categories %}      {{ page.title }}{% endif %}{% endif %} {% endfor %}と記述することで実現できた．コードは簡単のためcategoriesに関係ない部分は省略している．paginator.pagesやsection.pagesでcategoriesを取得しpage.taxonomies.categoriesが存在しており"tech"が含まれている場合にpage.titleを表示することで2つのカテゴリに分けられている．Teraの仕様で{% if page.taxonomies.categories == &amp;quot;tech&amp;quot; %}とは書けない．Zennへの転載この記事もだが技術系のものについてはZennにも投稿したいと考え，Markdownのレンダリングを整えるために{{ page.content |   linebreaksbr |   replace(from=&amp;quot;&amp;lt;&amp;#x2F;p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;p&amp;gt;&amp;quot;, to=&amp;quot;&amp;lt;&amp;#x2F;p&amp;gt;&amp;lt;p class=&amp;#x27;br&amp;#x27;&amp;gt;&amp;lt;&amp;#x2F;p&amp;gt;&amp;lt;p&amp;gt;&amp;quot;) |   replace(from=&amp;quot;&amp;lt;br&amp;gt;&amp;lt;a&amp;quot;, to=&amp;quot;&amp;lt;br \&amp;gt;&amp;lt;a&amp;quot;) |   replace(from=&amp;quot;&amp;lt;br&amp;gt;&amp;lt;c&amp;quot;, to=&amp;quot;&amp;lt;br \&amp;gt;&amp;lt;c&amp;quot;) |   replace(from=&amp;quot;&amp;lt;br&amp;gt;&amp;lt;&amp;quot;, to=&amp;quot;&amp;lt;&amp;quot;) |   safe}}と書いている．linebreaksbrでMarkdownの改行を&amp;lt;br&amp;gt;にし，replace(from="&amp;lt;/p&amp;gt;&amp;lt;br&amp;gt;&amp;lt;p&amp;gt;", to="&amp;lt;/p&amp;gt;&amp;lt;p class=&#39;br&#39;&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;")で二連続の改行を使えるようにし，replace(from="&amp;lt;br&amp;gt;&amp;lt;a", to="&amp;lt;br \&amp;gt;&amp;lt;a")などでaタグやcodeタグの改行を消さないようにした後でreplace(from="&amp;lt;br&amp;gt;&amp;lt;", to="&amp;lt;")で改行しすぎる事を防いでいる．もっと賢いやり方はあるのだろうが頭が悪いので力技を使っている．これでZennとだいたい同じ感じでMarkdownを良い具合にHTMLに変換できていると思う．デプロイ今回はGitHub Pagesを使った｡公式ドキュメントに沿えば良いのが,知識不足と英語の苦手が故にまごついた部分があったので以下に手順を示す．user icon&amp;gt;Settings&amp;gt;Developer setting&amp;gt;Personal access tokens (classic)にて Generate new token(classic) を行い public_repo のみに印を付け発行されたtokenをコピーする．repositry&amp;gt;Settings&amp;gt;Secrets&amp;gt;ActionsにてNameにTOKENと書きSecretには先程コピーしたtokenをペーストする．/config.tomlをbase_url="https://&#39;user_name&#39;.github.io/&#39;repository_name&#39;"と書き換える．git pushした後でrepositry&amp;gt;Settings&amp;gt;Pages&amp;gt;SourceがDeploy from a branchでありrepositry&amp;gt;Settings&amp;gt;Pages&amp;gt;Branchがgh-pages /(root)になっている事を確認する．所感かなり良いブログができたなと思っている．特に色彩とレイアウトはかなり気に入っているが，まだ改善の余地はあると感じている．最も改善するべき点はコードブロックなのだろうが，具体的な仕様が思いついていない．' name=description><div class=single><div><div class=headline>Zolaでブログを作る <a rel="noopener noreferrer" class=link href=https://slnq.github.io/ target=_blank>⧉</a></div><span class=page-date>2023.06.26</span><span class=page-tag> <a class=tag href=../../tags/zola/><span class=emoji>🔖️</span>Zola</a> <a class=tag href=../../tags/design/><span class=emoji>🔖️</span>design</a> </span><div class=page-content><h1 id=zola><a href=https://www.getzola.org>Zola</a></h1><p><a href=https://gohugo.io/>Hugo</a>や<a href=https://www.gatsbyjs.com/>Gatsby</a>と同じく<a href=https://en.wikipedia.org/wiki/Static_site_generator>静的サイトジェネレーター(SSG)</a>の一種．<br>言語は<a href=https://www.rust-lang.org/ja>Rust</a>で書かれているため，buildが早いという特徴がある．<br>とはいえ<a href=https://www.rust-lang.org/ja>Rust</a>の知識は必要なく<a href=https://tera.netlify.app>Tera</a>について知っていると少し書きやすい程度でブログを作る程度なら簡単に扱える．<h1 id=zhi-zuo-wu>制作物</h1><p><a href=https://slnq.github.io>https://slnq.github.io</a><h2 id=sosukodo>ソースコード</h2><p><a href=https://github.com/slnq/slnq.github.io>https://github.com/slnq/slnq.github.io</a><p class=br><p><a href=https://www.getzola.org/documentation/getting-started/overview/>ドキュメント</a>に仕様などが詳しく書かれているため，これを見ていけば最低限のブログは作れる．<br>それでもわからない点は有志が作った<a href=https://www.getzola.org/themes/>テーマ</a>のコードを見ることで大抵は解決する．<h2 id=dezain>デザイン</h2><p>軽量かつシンプルでありトップページから全てのページにアクセスできるように作った．<br>特にページの要素を示すタグの一覧を見るために別のページにアクセスする労力を嫌い，タグの一覧をトップページに載せる仕様は絶対だった．<br>また，技術的な内容と日記などの文章を主体とする記事の両方を書きたかったので2つのカテゴリに分けられるようにした．<br>レイアウトについては<a href=http://saqum.com/index.html>日光室</a>を参考にしている．<br>タグに用いている記号については<a href=https://qiita.com/yuneco/items/444abd3f40d53ce7d078>4KBのJavaScriptだけで動く可愛いアクションゲームを作ったのでソースと解説</a>にて紹介されている手法を用いた．<h2 id=deirekutorigou-cheng>ディレクトリ構成</h2><p><a href=https://github.com/slnq/slnq.github.io/tree/main/templates>templates</a>ディレクトリにMarkdownからレンダリングされる元となるHTMLが配置されている．<br>全てのページで使われているヘッダー部分は<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/base.html>base.html</a>，トップページは<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/index.html>index.html</a>，記事は<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/blog-page.html>blog-pages.html</a>を使っている．<br>また，<a href=https://github.com/slnq/slnq.github.io/tree/main/sass>sass</a>にはスタイルシートが，<a href=https://github.com/slnq/slnq.github.io/tree/main/content>content</a>には書いたMarkdownが配置されている．<h2 id=taxonomies>Taxonomies</h2><p><a href=https://www.getzola.org/documentation/templates/taxonomies/>Taxonomies</a>の実装に躓いたのでメモを残す．<br>特に既存の<a href=https://www.getzola.org/themes/>テーマ</a>ではタグやカテゴリの一覧を単独のページにしており，私の希望であった<ul><li>タグの一覧をトップページに載せる<li>トップページで投稿を2つのカテゴリに分ける</ul><p>という仕様はコピー・アンド・ペーストでは実装できなかった．<p class=br><p>1つ目については<a href=https://github.com/slnq/slnq.github.io/tree/main/templates>templates</a>ディレクトリ内に<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/tags>tags</a>を作成し<a href=https://www.getzola.org/documentation/templates/taxonomies/>Taxonomies</a>を実装し<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/base.html>base.html</a>に<pre><code>{% set tags = get_taxonomy(kind="tags", lang=lang) %}<br>{% for term in tags.items %}<br>  {{ term.name }}<br>{% endfor %}</code></pre><p>と記述することで実現できた．コードは簡単のため<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/tags>tags</a>に関係ない部分は省略している．<br \><a href=https://www.getzola.org/documentation/templates/overview/#get-taxonomy><code>get_taxonomy</code></a>で<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/tags>tags</a>を取得し<code>tags.items</code>の全てを表示している．<p class=br><p>2つ目については1つ目と同様に<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/categories>categories</a>を作成し<a href=https://github.com/slnq/slnq.github.io/blob/main/templates/index.html>index.html</a>に<pre><code>{% set section = get_section(path="post/_index.md") %}<br>{% if paginator %} {% set pages = paginator.pages %} {% else %} {% set pages = section.pages %} {% endif %}<br>{% for page in pages %} {% if page.taxonomies.categories %} {% if "tech" in page.taxonomies.categories %}<br>      {{ page.title }}<br>{% endif %}{% endif %} {% endfor %}</code></pre><p>と記述することで実現できた．コードは簡単のため<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/categories>categories</a>に関係ない部分は省略している．<br \><code>paginator.pages</code>や<code>section.pages</code>で<a href=https://github.com/slnq/slnq.github.io/tree/main/templates/categories>categories</a>を取得し<code>page.taxonomies.categories</code>が存在しており<code>"tech"</code>が含まれている場合に<code>page.title</code>を表示することで2つのカテゴリに分けられている．<a href=https://tera.netlify.app>Tera</a>の仕様で<pre><code>{% if page.taxonomies.categories == "tech" %}</code></pre><p>とは書けない．<h2 id=zennhenozhuan-zai>Zennへの転載</h2><p>この記事もだが技術系のものについてはZennにも投稿したいと考え，Markdownのレンダリングを整えるために<pre><code>{{ page.content |<br>   linebreaksbr |<br>   replace(from="&lt;/p>&lt;br>&lt;p>", to="&lt;/p>&lt;p class='br'>&lt;/p>&lt;p>") |<br>   replace(from="&lt;br>&lt;a", to="&lt;br \>&lt;a") |<br>   replace(from="&lt;br>&lt;c", to="&lt;br \>&lt;c") |<br>   replace(from="&lt;br>&lt;", to="&lt;") |<br>   safe}}</code></pre><p>と書いている．<br \><code>linebreaksbr</code>でMarkdownの改行を<code>&lt;br></code>にし，<code>replace(from="&lt;/p>&lt;br>&lt;p>", to="&lt;/p>&lt;p class='br'>&lt;/p>&lt;p>")</code><br>で二連続の改行を使えるようにし，<code>replace(from="&lt;br>&lt;a", to="&lt;br \>&lt;a")</code>などでaタグやcodeタグの改行を消さないようにした後で<code>replace(from="&lt;br>&lt;", to="&lt;")</code>で改行しすぎる事を防いでいる．もっと賢いやり方はあるのだろうが頭が悪いので力技を使っている．<br>これで<a href=https://zenn.dev>Zenn</a>とだいたい同じ感じでMarkdownを良い具合にHTMLに変換できていると思う．<h1 id=depuroi>デプロイ</h1><p>今回は<a href=https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages>GitHub Pages</a>を使った｡<br \><a href=https://www.getzola.org/documentation/deployment/github-pages/>公式ドキュメント</a>に沿えば良いのが,知識不足と英語の苦手が故にまごついた部分があったので以下に手順を示す．<ol><li>user icon><a href=https://github.com/settings/profile>Settings</a>><a href=https://github.com/settings/apps>Developer setting</a>><a href=https://github.com/settings/tokens>Personal access tokens (classic)</a>にて Generate new token(classic) を行い public_repo のみに印を付け発行されたtokenをコピーする．<li>repositry>Settings>Secrets>ActionsにてNameにTOKENと書きSecretには先程コピーしたtokenをペーストする．<li>/config.tomlをbase_url="https://'user_name'.github.io/'repository_name'"と書き換える．<li>git pushした後でrepositry>Settings>Pages>SourceがDeploy from a branchでありrepositry>Settings>Pages>Branchがgh-pages /(root)になっている事を確認する．</ol><h1 id=suo-gan>所感</h1><p>かなり良いブログができたなと思っている．<br>特に色彩とレイアウトはかなり気に入っているが，まだ改善の余地はあると感じている．<br>最も改善するべき点はコードブロックなのだろうが，具体的な仕様が思いついていない．</p><br></div></div></div><footer><a href=https://slnq.github.io>表紙</a><a href=https://slnq.github.io/about/>紹介</a><a href=https://slnq.github.io/atom.xml>購読</a><a href=https://slnq.github.io/search/>全文</a><a href=https://slnq.github.io/links/>関連</a><a href=https://slnq.github.io/photos/>写真</a><a href=https://slnq.github.io/photols/>風景</a><a href=https://slnq.github.io/animation/>映像</a><a href=https://slnq.github.io/page/>短文</a></footer>